{% extends "base.html" %}
{% block content %}
<h2 class="mb-4">Add Transaction</h2>
<form method="POST" class="card p-4 shadow-sm">
    <div class="mb-3">
        <label class="form-label">Date:</label>
        <input type="date" name="date" class="form-control" required>
    </div>
    <div class="mb-3">
        <label class="form-label">Transaction Type:</label>
        <select name="transaction_type" class="form-select" required onchange="updateAmountLabel()">
            <option value="">Select Type</option>
            <option value="income">ðŸ’° Income</option>
            <option value="expense">ðŸ’¸ Expense</option>
        </select>
    </div>
    <div class="mb-3">
        <label class="form-label">Category:</label>
        <select name="category" class="form-select" required>
            <option value="">Select Category</option>
            <optgroup label="Income Categories">
                <option value="Salary">Salary</option>
                <option value="Freelance">Freelance</option>
                <option value="Investment">Investment</option>
                <option value="Business">Business</option>
                <option value="Other Income">Other Income</option>
            </optgroup>
            <optgroup label="Expense Categories">
                <option value="Food">Food & Dining</option>
                <option value="Transport">Transport</option>
                <option value="Shopping">Shopping</option>
                <option value="Rent">Rent</option>
                <option value="Bills">Bills & Utilities</option>
                <option value="Entertainment">Entertainment</option>
                <option value="Travel">Travel</option>
                <option value="Health">Health & Medical</option>
                <option value="Other">Other</option>
            </optgroup>
        </select>
    </div>
    <div class="mb-3">
        <label class="form-label" id="amountLabel">Amount:</label>
        <div class="input-group">
            <span class="input-group-text">â‚¹</span>
            <input type="number" step="0.01" name="amount" class="form-control" placeholder="Enter amount" required>
        </div>
        <div class="form-text">
            <span id="amountHint" class="text-muted">Select transaction type first</span>
        </div>
    </div>
    <div class="mb-3">
        <label class="form-label">Description:</label>
        <input type="text" name="description" class="form-control">
    </div>
    <button type="submit" class="btn btn-primary w-100">Add Transaction</button>
</form>

<script>
function updateAmountLabel() {
    const transactionType = document.querySelector('select[name="transaction_type"]').value;
    const amountLabel = document.getElementById('amountLabel');
    const amountHint = document.getElementById('amountHint');
    
    if (transactionType === 'income') {
        amountLabel.innerHTML = 'ðŸ’° Income Amount:';
        amountHint.innerHTML = 'Enter the amount you received (positive value)';
        amountHint.className = 'text-success';
    } else if (transactionType === 'expense') {
        amountLabel.innerHTML = 'ðŸ’¸ Expense Amount:';
        amountHint.innerHTML = 'Enter the amount you spent (positive value)';
        amountHint.className = 'text-danger';
    } else {
        amountLabel.innerHTML = 'Amount:';
        amountHint.innerHTML = 'Select transaction type first';
        amountHint.className = 'text-muted';
    }
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', function() {
    updateAmountLabel();
});
</script>
{% endblock %}
